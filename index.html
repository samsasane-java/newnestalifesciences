<!DOCTYPE html>
<html>
  <head>
    <title>Medical Products</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <header class="site-header">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <div class="logo-container">
      <img
        src="images/nesta-Logo.png"
        alt="Nesta Life Sciences Logo"
        class="site-logo"
      />
      <h1 class="site-title">Nesta Life Sciences</h1>
    </div>
    <!-- <div class="logo">üß¨ Nesta Life Science Products</div> -->
    <nav class="nav-links">
      <a href="#top">Home</a>
      <a href="#about">About Us</a>
      <a href="#products">Our Products</a>
      <a href="#voice">Wellness Voices</a>
      <a href="#contact">Contact us</a>
    </nav>
    <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
  </header>
  <body id="top">
    <div id="customAlert" class="custom-alert">
      <p id="alertMessage">Oops! Something went wrong.</p>
      <button onclick="closeAlert()">OK</button>
    </div>

    <section id="about">
      <div class="about-description">
        <h1>
          <img src="images/leaf-icon.png" alt="Leaf Icon" class="inline-icon" />
          At Nesta Life Sciences, we believe in the power of nature to restore
          balance, vitality, and well-being.
        </h1>
        <p>
          <img
            src="images/herbal-bowl.png"
            alt="Herbal Bowl"
            class="inline-icon"
          />
          Our products are crafted with time-tested herbal ingredients and a
          commitment to purity, safety, and effectiveness.
        </p>
        <p>
          <img
            src="images/green-vine.jpg"
            alt="Green Vine"
            class="inline-icon"
          />
          We specialize in Ayurvedic and herbal formulations that support
          everyday wellness‚Äîwithout side effects.
        </p>
        <p>
          Whether you're seeking relief from joint pain, glowing skin, or better
          immunity, our range is designed to meet your needs with care and
          confidence.
        </p>

        <a href="#products" class="explore-btn">Explore Our Products</a>
      </div>
    </section>

    <section id="products">
      <h2 class="section-title">üåø Shop Ayurvedic Wellness Products</h2>
      <p class="section-subtitle">
        Pure ‚Ä¢ Herbal ‚Ä¢ FSSAI Certified ‚Ä¢ Delivered Fresh
      </p>

      <div id="product-thumbnails" class="thumbnail-grid"></div>
      <div id="product-popups"></div>
    </section>

    <section id="voice" class="testimonial-section">
      <h2>What Our Customers Say</h2>
      <div class="testimonial-slider">
        <div class="testimonial active">
          <p>
            "Vednamukti Oil gave me instant relief from joint pain. Truly
            magical!"
          </p>
          <span>- Meera, Pune</span>
        </div>
        <div class="testimonial">
          <p>
            "The skin & hair juice made my hair stronger and my skin glow
            naturally."
          </p>
          <span>- Ramesh, Mumbai</span>
        </div>
        <div class="testimonial">
          <p>
            "I‚Äôve tried many detox drinks, but Nesta‚Äôs formula actually works!"
          </p>
          <span>- Aayush, Nashik</span>
        </div>
      </div>
    </section>

    <section id="contact" class="contact-section">
      <h2>Contact Us</h2>
      <p>We‚Äôd love to hear from you! Reach out anytime.</p>

      <div class="contact-details">
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <a href="mailto:info@nestalifesciences.com"
            >info@nestalifesciences.com</a
          >
        </div>
        <div class="contact-item">
          <i class="fas fa-phone-alt"></i>
          <a href="tel:+919226192324">+91 9226192324</a>
        </div>
        <div class="contact-item">
          <i class="fab fa-instagram"></i>
          <a href="https://instagram.com/nestalifesciences" target="_blank"
            >Instagram</a
          >
        </div>
        <div class="contact-item">
          <i class="fab fa-youtube"></i>
          <a href="https://youtube.com/@nestalifesciences" target="_blank"
            >YouTube</a
          >
        </div>
      </div>
    </section>

    <footer class="site-footer">
      <div class="footer-content">
        <p>&copy; 2025 Nesta Life Sciences. All rights reserved.</p>
      </div>
    </footer>

    <script>
      function toggleDetails(toggleBtn) {
        const details = toggleBtn
          .closest(".product-info")
          .querySelector(".product-details");
        details.classList.toggle("collapsed");
      }
      document.addEventListener("DOMContentLoaded", renderProducts);

      function openProductPopup(id) {
        const popup = document.getElementById(`${id}-popup`);
        popup.classList.remove("hidden");
      }

      function closeProductPopup(id) {
        const popup = document.getElementById(`${id}-popup`);
        if (popup) {
          popup.classList.add("hidden");

          // Auto-collapse benefits section
          const details = popup.querySelector(".product-details");
          if (details) {
            details.classList.add("collapsed");
            details.classList.remove("expanded");
          }

          // Optional: reset toggle label/icon if needed
          const toggle = popup.querySelector(".info-toggle");
          if (toggle) {
            toggle.classList.remove("active");
          }
        }
      }

      const products = [
        {
          id: "Vednamukti",
          name: "Vednamukti Oil",
          price: 130,
          images: ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg"],
          description:
            "Experience natural pain relief with Vednamukti Oil ‚Äî a potent Ayurvedic blend of Nilgiri Oil, Menthol Crystals, Mahanarayan Oil, Clove Oil, Dashmool, and Gandhapura. Formulated to soothe joint pain, backaches, sore muscles, and stiffness, it absorbs quickly without leaving a greasy residue.",
          ingredients: [
            "Nilgiri Oil",
            "Menthol Crystals",
            "Mahanarayan Oil",
            "Clove Oil",
            "Dashmool",
            "Gandhapura",
          ],
          benefits: [
            "Relieves joint stiffness",
            "Reduces inflammation",
            "Promotes natural healing",
            "Non-greasy & fast-absorbing",
          ],
        },
        {
          id: "Cough Relief",
          name: "Cough Care Juice",
          price: 130,
          images: ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg"],
          description:
            "Soothe your throat and support respiratory health with Cough Care Juice ‚Äî a herbal formulation enriched with Tulsi, Mulethi, and Honey. Ideal for dry and wet cough, it helps clear congestion and boosts immunity naturally.",
          ingredients: [
            "Tulsi",
            "Mulethi",
            "Honey",
            "Pippali",
            "Ginger",
            "Vasaka",
          ],
          benefits: [
            "Soothes sore throat",
            "Relieves dry and wet cough",
            "Supports respiratory health",
            "Boosts natural immunity",
          ],
        },
        {
          id: "body gain",
          name: "Detox Juice (250 ml)",
          price: 199,
          images: ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg"],
          description:
            "Build strength naturally with this 100% herbal tonic powered by Ashwagandha, Shatavari, Safed Musli, Aloe Vera, and Gokhru. This Ayurvedic blend promotes muscle gain, enhances stamina, and supports hormonal balance while improving endurance, recovery, and metabolism. Rich in adaptogens and free from chemicals, it‚Äôs a safe, FSSAI-certified solution for holistic fitness.",
          ingredients: [
            "Ashwagandha",
            "Shatavari",
            "Safed Musli",
            "Aloe Vera",
            "Gokhru",
          ],
          benefits: [
            "100% Herbal & Ayurvedic",
            "Boosts Muscle Gain & Stamina",
            "Enhances Mental Focus & Recovery",
            "Balances Hormones Naturally",
            "Improves Metabolism & Energy Levels",
          ],
        },
        {
          id: "skin and hair",
          name: "Skin & Hair Care Juice (250 ml)",
          price: 199,
          images: ["1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg"],
          description:
            "Glow from within with Nesta Life Sciences Skin & Hair Care Juice ‚Äî a natural Ayurvedic blend of Neem, Aloe Vera, Haldi, Haritaki, and Manjistha. Rich in antioxidants, Omega-3s, and Vitamins C & E, it helps detoxify, boost collagen, and protect against sun and pollution. FSSAI certified, GMP manufactured, and free from chemicals, it‚Äôs your daily ritual for radiant skin and healthy hair.",
          ingredients: ["Neem", "Aloe Vera", "Haldi", "Haritaki", "Manjistha"],
          benefits: [
            "100% Ayurvedic & Natural",
            "Detoxifies from Within",
            "Promotes Radiant Skin",
            "Strengthens Hair Roots",
            "Protects Against Sun & Pollution",
          ],
        },
      ];

      function renderProducts() {
        const thumbContainer = document.getElementById("product-thumbnails");
        const popupContainer = document.getElementById("product-popups");

        requestAnimationFrame(() => {
          thumbContainer.innerHTML = "";
          popupContainer.innerHTML = "";

          products.forEach((product) => {
            const thumb = document.createElement("div");
            thumb.className = "product-thumbnail";
            thumb.innerHTML = `
  <img src="${product.id}/${product.images[0]}" class="thumbnail-img" />
  <h4 class="thumbnail-title">${product.name}</h4>
  <div class="thumbnail-price-box">
    <span class="thumbnail-offer-badge">Limited Offer</span>
    <p class="thumbnail-price-tag">
      <span class="price-icon">üí∞</span>
      <span class="price-label">Only</span>
      <span class="price">‚Çπ${product.price}</span>
    </p>
  </div>
`;
            thumb.onclick = () => openProductPopup(product.id);
            thumbContainer.appendChild(thumb);

            const popup = document.createElement("div");
            popup.id = `${product.id}-popup`;
            popup.className = "product-popup hidden";
            popup.innerHTML = `
          <div class="popup-overlay" onclick="closeProductPopup('${
            product.id
          }')"></div>
          <div class="popup-content">
            <div class="product-card hover-carousel" data-category="${
              product.id
            }">
              <div class="carousel-wrapper">
                <button class="nav-btn left-btn" onclick="moveSlide(this,-1)">&#10094;</button>
                <button class="nav-btn right-btn" onclick="moveSlide(this,1)">&#10095;</button>
                <div class="carousel-window">
  <div class="carousel-track" data-index="0">
    ${product.images
      .map((img) => `<img src="${product.id}/${img}" class="step-img" />`)
      .join("")}
  </div>
</div>
              </div>
              <div class="product-info">
                <h3>${product.name}</h3>
                <div class="info-toggle" onclick="toggleDetails(this)">
                  <span class="info-icon">üìã</span>
                  <span class="info-label">Explore Benefits</span>
                </div>
                <div class="product-details collapsed">
  <p class="product-description">${product.description}</p>

  <h4 class="section-title ingredients-title">Ingredients:</h4>
  <ul class="product-ingredients">
    ${product.ingredients.map((ing) => `<li>üß™ ${ing}</li>`).join("")}
  </ul>

  <h4 class="section-title benefits-title">Benefits:</h4>
  <ul class="product-benefits">
    ${product.benefits.map((b) => `<li>‚úîÔ∏è ${b}</li>`).join("")}
  </ul>
</div>
                <div class="product-order">
                  <div class="price-box">
                    <span class="offer-badge">Limited Offer</span>
                    <p class="price-tag">
                      <span class="price-icon">üí∞</span>
                      <span class="price-label">Only</span>
                      <span class="price" data-price="${product.price}">‚Çπ${
              product.price
            }</span>
                    </p>
                  </div>
                  <input type="number" class="qty-input" placeholder="qty" min="1" />
                  <button onclick="orderProduct(this,'${
                    product.name
                  }')">Order Now</button>
                </div>
              </div>
            </div>
          </div>
        `;
            popupContainer.appendChild(popup);
          });
        });
      }

      function moveSlide(button, direction) {
        const wrapper = button.closest(".carousel-wrapper");
        const track = wrapper.querySelector(".carousel-track");
        const images = track.querySelectorAll(".step-img");

        let currentIndex = parseInt(track.dataset.index) || 0;
        const maxIndex = images.length - 1;

        currentIndex += direction;
        if (currentIndex < 0) currentIndex = 0;
        if (currentIndex > maxIndex) currentIndex = maxIndex;

        const imageWidth = images[0].offsetWidth;
        track.style.transform = `translateX(-${currentIndex * imageWidth}px)`;
        track.dataset.index = currentIndex;
      }

      // Toggle logic for each product card
      document.querySelectorAll(".info-toggle").forEach((toggleBox) => {
        toggleBox.addEventListener("click", (event) => {
          event.stopPropagation(); // Prevent triggering outside click

          const clickedCard = toggleBox.closest(".product-card");
          const clickedDetails = clickedCard.querySelector(".product-details");
          const clickedInput = clickedCard.querySelector(".qty-input");
          const label = toggleBox.querySelector(".info-label");
          const icon = toggleBox.querySelector(".info-icon");

          // Collapse all other cards and clear their inputs
          document.querySelectorAll(".product-card").forEach((card) => {
            const details = card.querySelector(".product-details");
            const input = card.querySelector(".qty-input");
            const toggle = card.querySelector(".info-toggle");
            const toggleLabel = toggle?.querySelector(".info-label");
            const toggleIcon = toggle?.querySelector(".info-icon");

            if (card !== clickedCard) {
              details.classList.remove("expanded");
              input.value = "";
              if (toggleLabel && toggleIcon) {
                toggleLabel.textContent = "Explore Benefits";
                toggleIcon.textContent = "üìã";
              }
            }
          });

          // Toggle clicked card
          const isExpanded = clickedDetails.classList.contains("expanded");
          clickedDetails.classList.toggle("expanded");

          if (label && icon) {
            label.textContent = isExpanded
              ? "Explore Benefits"
              : "Hide Benefits";
            icon.textContent = isExpanded ? "üìã" : "‚ùå";
          }
        });
      });

      // Global click listener to collapse everything when clicking outside
      document.addEventListener("click", (event) => {
        const clickedInsideCard = event.target.closest(".product-card");

        if (!clickedInsideCard) {
          document.querySelectorAll(".product-card").forEach((card) => {
            const details = card.querySelector(".product-details");
            const input = card.querySelector(".qty-input");
            const toggle = card.querySelector(".info-toggle");
            const label = toggle?.querySelector(".info-label");
            const icon = toggle?.querySelector(".info-icon");

            details.classList.remove("expanded");
            input.value = "";

            if (label && icon) {
              label.textContent = "Explore Benefits";
              icon.textContent = "üìã";
            }
          });
        }
      });

      // active link

      const sections = document.querySelectorAll("section[id]");
      const navLinks = document.querySelectorAll(".nav-links a");

      let observer;
      let isClickScrolling = false;

      // Create the observer
      function createObserver() {
        observer = new IntersectionObserver(
          (entries) => {
            if (isClickScrolling) return; // Skip updates during click-based scroll

            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const id = entry.target.getAttribute("id");
                navLinks.forEach((link) => {
                  link.classList.remove("active");
                  if (link.getAttribute("href") === `#${id}`) {
                    link.classList.add("active");
                  }
                });
              }
            });
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0.6,
          }
        );

        sections.forEach((section) => observer.observe(section));
      }

      // Handle nav link clicks
      navLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          isClickScrolling = true;

          // Remove active from all, add to clicked
          navLinks.forEach((l) => l.classList.remove("active"));
          link.classList.add("active");

          // Wait for scroll to finish, then re-enable observer
          setTimeout(() => {
            isClickScrolling = false;
          }, 1000); // Adjust delay based on scroll speed
        });
      });

      // Initialize observer
      createObserver();

      //Testimonial

      let currentTestimonial = 0;
      const testimonials = document.querySelectorAll(".testimonial");

      setInterval(() => {
        testimonials[currentTestimonial].classList.remove("active");
        currentTestimonial = (currentTestimonial + 1) % testimonials.length;
        testimonials[currentTestimonial].classList.add("active");
      }, 4000);

      //header

      document.querySelectorAll(".nav-links a").forEach((link) => {
        link.addEventListener("click", function () {
          document
            .querySelectorAll(".nav-links a")
            .forEach((el) => el.classList.remove("active"));
          this.classList.add("active");
        });
      });

      function toggleMenu() {
        const nav = document.querySelector(".nav-links");
        nav.classList.toggle("show");
      }

      // Moving button
      const slideState = new Map();

      function moveSlide(button, direction) {
        const wrapper = button.closest(".carousel-wrapper");
        const track = wrapper.querySelector(".carousel-track");
        const totalImages = track.children.length;

        // Use wrapper as unique key
        if (!slideState.has(wrapper)) slideState.set(wrapper, 0);

        let currentIndex = slideState.get(wrapper);
        currentIndex += direction;

        if (currentIndex < 0) currentIndex = totalImages - 1;
        if (currentIndex >= totalImages) currentIndex = 0;

        track.style.transform = `translateX(-${100 * currentIndex}%)`;
        slideState.set(wrapper, currentIndex);
      }

      // Whats up message

      function showCustomAlert(message) {
        document.getElementById(
          "alertMessage"
        ).textContent = `Oops! ${message}`;
        document.getElementById("customAlert").style.display = "block";
      }

      function closeAlert() {
        document.getElementById("customAlert").style.display = "none";
      }

      const ownerNumber = "9226192324";

      function orderProduct(button, productName) {
        console.log("productName", productName);
        const productCard = button.closest(".product-order");
        console.log("productCard", productCard);
        const qtyInput = productCard.querySelector(".qty-input");
        console.log("qtyInput", qtyInput);
        const priceElement = productCard.querySelector(".price");
        console.log("priceElement", priceElement);

        const qty = parseInt(qtyInput.value);
        console.log("qty", qty);
        if (!qty || qty <= 0) {
          showCustomAlert(
            "Ordering zero bottles? Bold move. But let‚Äôs try a real number."
          );
          return;
        }

        const price = parseFloat(priceElement.getAttribute("data-price"));
        if (isNaN(price)) {
          alert("Price not found or invalid.");
          return;
        }

        const total = price * qty;
        const message = `Hello!, I want to order ${qty} unit(s) of ${productName} at ‚Çπ${price} each. Total: ‚Çπ${total}. Let me know how to proceed with payment and delivery!`;
        const encodedMessage = encodeURIComponent(message);

        window.open(
          `https://wa.me/${ownerNumber}?text=${encodedMessage}`,
          "_blank"
        );
      }

      // Multi-carousel logic
      // document.querySelectorAll(".carousel-track").forEach((track) => {
      //   const images = track.children;
      //   let index = 0;

      //   setInterval(() => {
      //     index = (index + 1) % images.length;
      //     track.style.transform = `translateX(-${index * 100}%)`;
      //   }, 3000);
      // });

      const searchInput = document.querySelector(".search-bar");
      const filterDropdown = document.querySelector(".filter-dropdown");
      const productCards = document.querySelectorAll(".product-card");

      function filterProducts() {
        const searchTerm = searchInput.value.toLowerCase();
        const selectedCategory = filterDropdown.value;

        productCards.forEach((card) => {
          const title = card.querySelector("h3").textContent.toLowerCase();
          const category = card.dataset.category;

          const matchesSearch = title.includes(searchTerm);
          const matchesCategory =
            !selectedCategory || category === selectedCategory;

          card.style.display =
            matchesSearch && matchesCategory ? "block" : "none";
        });
      }

      searchInput.addEventListener("input", filterProducts);
      filterDropdown.addEventListener("change", filterProducts);
    </script>
  </body>
</html>
